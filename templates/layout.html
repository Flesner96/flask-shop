<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Flask Shop{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
</head>
<body class="bg-gray-100 text-gray-900">
    {% if session.logged_in %}
    <nav class="bg-blue-600 p-4 text-white flex gap-4">
    <a href="/">Home</a>
    <a href="/products">Products</a>
    <a href="/clients">Clients</a>
    <a href="/orders">Orders</a>
    <a href="/logout" class="ml-auto">Logout</a>
    </nav>
    {% endif %}
    <main class="p-6">
   {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="space-y-2 mb-4">
      {% for category, message in messages %}
        <div class="p-4 rounded-lg text-white shadow
          {% if category == 'success' %}bg-green-500
          {% elif category == 'error' %}bg-red-500
          {% else %}bg-blue-500
          {% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}
<script>
  setTimeout(() => {
    document.querySelectorAll('.flash-message').forEach(el => el.remove());
  }, 4000);
</script>
        {% block content %}{% endblock %}
    </main>
</body>
</html>
