{% extends "layout.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h1 class="text-xl font-bold mb-4">Dashboard</h1>

<div class="grid grid-cols-3 gap-4 mb-6">
  <div class="bg-blue-100 p-4 rounded">ðŸ›’ Products: {{ product_count }}</div>
  <div class="bg-green-100 p-4 rounded">ðŸ‘¤ Clients: {{ client_count }}</div>
  <div class="bg-yellow-100 p-4 rounded">ðŸ“¦ Orders: {{ order_count }}</div>
</div>

<div class="grid grid-cols-2 gap-4 my-6">
  <div class="bg-white border rounded p-4">
    <h2 class="font-bold text-lg mb-2">Latest Product Added</h2>
    {% if latest_product %}
      <p><strong>Name:</strong> {{ latest_product[1] }}</p>
      <p><strong>Price:</strong> ${{ latest_product[2] }}</p>
      <p><strong>Rating:</strong> {{ latest_product[3] }}</p>
      <p><strong>Added:</strong> {{ latest_product[4] }}</p>
    {% else %}
      <p>No products found.</p>
    {% endif %}
  </div>

  <div class="bg-white border rounded p-4">
    <h2 class="font-bold text-lg mb-2">Best Rated Product</h2>
    {% if best_product %}
      <p><strong>Name:</strong> {{ best_product[1] }}</p>
      <p><strong>Price:</strong> ${{ best_product[2] }}</p>
      <p><strong>Rating:</strong> {{ best_product[3] }}</p>
    {% else %}
      <p>No products found.</p>
    {% endif %}
  </div>
</div>

<h2 class="text-lg font-semibold mb-2">Recent Orders</h2>
<table class="min-w-full bg-white border">
  <thead class="bg-gray-100">
    <tr>
      <th class="px-4 py-2">ID</th>
      <th class="px-4 py-2">Client</th>
      <th class="px-4 py-2">Details</th>
      <th class="px-4 py-2">Date</th>
    </tr>
  </thead>
  <tbody>
    {% for o in recent_orders %}
    <tr class="border-t">
      <td class="px-4 py-2">{{ o[0] }}</td>
      <td class="px-4 py-2">{{ o[2] }} {{ o[3] }}</td>
      <td class="px-4 py-2">{{ o[4] }}</td>
      <td class="px-4 py-2">{{ o[5] }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
